/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_app";
exports.ids = ["pages/_app"];
exports.modules = {

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src_contexts_AppContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/contexts/AppContext */ \"./src/contexts/AppContext.tsx\");\n/* harmony import */ var _src_contexts_LanguageContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/contexts/LanguageContext */ \"./src/contexts/LanguageContext.tsx\");\n/* harmony import */ var _src_styles_globals_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/styles/globals.css */ \"./src/styles/globals.css\");\n/* harmony import */ var _src_styles_globals_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_src_styles_globals_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_contexts_AppContext__WEBPACK_IMPORTED_MODULE_1__]);\n_src_contexts_AppContext__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nfunction App({ Component, pageProps }) {\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        if (\"serviceWorker\" in navigator) {\n            navigator.serviceWorker.register(\"/service-worker.js\").catch((error)=>{\n                console.error(\"Service Worker registration failed:\", error);\n            });\n        }\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_AppContext__WEBPACK_IMPORTED_MODULE_1__.AppProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_LanguageContext__WEBPACK_IMPORTED_MODULE_2__.LanguageProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"/Users/user/Desktop/KRX/KRX 2.0/client/pages/_app.tsx\",\n                lineNumber: 19,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/user/Desktop/KRX/KRX 2.0/client/pages/_app.tsx\",\n            lineNumber: 18,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/user/Desktop/KRX/KRX 2.0/client/pages/_app.tsx\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ1U7QUFDaEM7QUFFRDtBQUVuQixTQUFTRyxJQUFJLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFZO0lBQzVESCxnREFBU0EsQ0FBQztRQUNSLElBQUksbUJBQW1CSSxXQUFXO1lBQ2hDQSxVQUFVQyxhQUFhLENBQUNDLFFBQVEsQ0FBQyxzQkFBc0JDLEtBQUssQ0FBQyxDQUFDQztnQkFDNURDLFFBQVFELEtBQUssQ0FBQyx1Q0FBdUNBO1lBQ3ZEO1FBQ0Y7SUFDRixHQUFHLEVBQUU7SUFFTCxxQkFDRSw4REFBQ1YsaUVBQVdBO2tCQUNWLDRFQUFDQywyRUFBZ0JBO3NCQUNmLDRFQUFDRztnQkFBVyxHQUFHQyxTQUFTOzs7Ozs7Ozs7Ozs7Ozs7O0FBSWhDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3J4LWNsaWVudC8uL3BhZ2VzL19hcHAudHN4PzJmYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUHJvdmlkZXIgfSBmcm9tICcuLi9zcmMvY29udGV4dHMvQXBwQ29udGV4dCc7XG5pbXBvcnQgeyBMYW5ndWFnZVByb3ZpZGVyIH0gZnJvbSAnLi4vc3JjL2NvbnRleHRzL0xhbmd1YWdlQ29udGV4dCc7XG5pbXBvcnQgJy4uL3NyYy9zdHlsZXMvZ2xvYmFscy5jc3MnO1xuaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gJ25leHQvYXBwJztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfTogQXBwUHJvcHMpIHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xuICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy9zZXJ2aWNlLXdvcmtlci5qcycpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTZXJ2aWNlIFdvcmtlciByZWdpc3RyYXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPEFwcFByb3ZpZGVyPlxuICAgICAgPExhbmd1YWdlUHJvdmlkZXI+XG4gICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICAgIDwvTGFuZ3VhZ2VQcm92aWRlcj5cbiAgICA8L0FwcFByb3ZpZGVyPlxuICApO1xufSJdLCJuYW1lcyI6WyJBcHBQcm92aWRlciIsIkxhbmd1YWdlUHJvdmlkZXIiLCJ1c2VFZmZlY3QiLCJBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./src/contexts/AppContext.tsx":
/*!*************************************!*\
  !*** ./src/contexts/AppContext.tsx ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppProvider: () => (/* binding */ AppProvider),\n/* harmony export */   useApp: () => (/* binding */ useApp)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io-client */ \"socket.io-client\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io_client__WEBPACK_IMPORTED_MODULE_2__]);\nsocket_io_client__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst AppContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst AppProvider = ({ children })=>{\n    // user state (start null on server to avoid hydration mismatch)\n    const [user, _setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [blockedUsers, setBlockedUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    // ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ° Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹\n    const refreshBlockedUsers = async ()=>{\n        if (!user) return;\n        try {\n            const response = await fetch(`http://localhost:5001/api/users/blocked?userId=${user.id}`);\n            if (!response.ok) throw new Error(\"Failed to fetch blocked users\");\n            const data = await response.json();\n            setBlockedUsers(new Set(data.blockedUsers));\n        } catch (err) {\n            console.error(\"Failed to refresh blocked users:\", err);\n        }\n    };\n    // ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ\n    const checkBlockStatus = async (userId)=>{\n        if (!user) return false;\n        try {\n            const response = await fetch(`http://localhost:5001/api/users/block-status/${userId}?checkedById=${user.id}`);\n            if (!response.ok) throw new Error(\"Failed to check block status\");\n            const data = await response.json();\n            return data.isBlocked;\n        } catch (err) {\n            console.error(\"Block status check error:\", err);\n            return false;\n        }\n    };\n    // wrapper to keep localStorage in sync\n    const setUser = (u)=>{\n        try {\n            if (false) {}\n        } catch (e) {\n            console.warn(\"Failed to persist user to localStorage\", e);\n        }\n        _setUser(u);\n    };\n    // On client mount read persisted user to restore session (avoids server/client markup mismatch)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) return;\n        try {\n            const raw = localStorage.getItem(\"krx_user\");\n            if (raw) {\n                const parsed = JSON.parse(raw);\n                _setUser(parsed);\n            }\n        } catch (e) {\n        // ignore parse errors\n        }\n    }, []);\n    // Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ ÑÐ¿Ð¸ÑÐ¾Ðº Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ Ð¸ ÑÐ¼ÐµÐ½Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (user) {\n            refreshBlockedUsers();\n        }\n    }, [\n        user\n    ]);\n    const [socket, setSocket] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [darkMode, setDarkMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        return localStorage.getItem(\"theme\") === \"dark\";\n    });\n    const [chats, setChats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentChat, setCurrentChat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [typingUsers, setTypingUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}); // chatId -> array of userIds\n    const [notifyEnabled, setNotifyEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        try {\n            if (false) {}\n        } catch (e) {}\n        return false;\n    });\n    const [soundEnabled, setSoundEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        try {\n            if (false) {}\n        } catch (e) {}\n        return true;\n    });\n    // On-client muted chats stored in localStorage (client preference)\n    // We persist per-chat muted state in localStorage under 'krx_muted_chats'\n    // Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ\n    const sendMessage = (content, chatId, messageType, isComment)=>{\n        if (!socket || !user) return;\n        const messageData = {\n            chatId,\n            senderId: user.id,\n            content: content.trim(),\n            isComment: isComment || false\n        };\n        if (messageType) messageData.messageType = messageType;\n        console.log(\"\\uD83D\\uDCE4 Sending message:\", messageData);\n        socket.emit(\"send_message\", messageData);\n        // ÐžÐŸÐ¢Ð˜ÐœÐ˜Ð¡Ð¢Ð˜Ð§Ð•Ð¡ÐšÐžÐ• ÐžÐ‘ÐÐžÐ’Ð›Ð•ÐÐ˜Ð• - ÑÑ€Ð°Ð·Ñƒ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ\n        const optimisticMessage = {\n            id: Date.now(),\n            chatId,\n            senderId: user.id,\n            content: content.trim(),\n            messageType: messageData.messageType || \"text\",\n            isRead: false,\n            timestamp: new Date().toISOString(),\n            username: user.username,\n            displayName: user.displayName,\n            avatarUrl: user.avatarUrl\n        };\n        setMessages((prev)=>[\n                ...prev,\n                optimisticMessage\n            ]);\n    };\n    // Normalize server message shape to client Message interface (camelCase)\n    const normalizeMessage = (m)=>{\n        return {\n            id: Number(m.id),\n            chatId: Number(m.chat_id ?? m.chatId),\n            senderId: Number(m.sender_id ?? m.senderId),\n            // ensure media urls are absolute so audio/img/video load correctly from client\n            content: (()=>{\n                const raw = m.content ?? \"\";\n                if (typeof raw === \"string\" && raw.startsWith(\"/\")) return `http://localhost:5001${raw}`;\n                return raw;\n            })(),\n            messageType: m.message_type ?? m.messageType ?? \"text\",\n            isRead: m.is_read === 1 || m.isRead || false,\n            timestamp: m.timestamp ?? m.created_at ?? new Date().toISOString(),\n            username: m.username ?? m.userName ?? \"\",\n            displayName: m.displayName ?? m.display_name ?? \"\",\n            avatarUrl: (()=>{\n                const a = m.avatarUrl ?? m.avatar_url ?? undefined;\n                if (typeof a === \"string\" && a.startsWith(\"/\")) return `http://localhost:5001${a}`;\n                return a;\n            })(),\n            reactions: m.reactions ?? []\n        };\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (user) {\n            // Create socket with reconnection options so it survives short network glitches\n            const newSocket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"http://localhost:5001\", {\n                transports: [\n                    \"websocket\"\n                ],\n                reconnection: true,\n                reconnectionAttempts: Infinity,\n                reconnectionDelay: 1000,\n                reconnectionDelayMax: 5000,\n                autoConnect: true\n            });\n            // ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ\n            newSocket.emit(\"user_online\", user.id);\n            newSocket.emit(\"join_chats\", user.id);\n            newSocket.emit(\"get_chats\", user.id);\n            // ðŸ“© ÐŸÐžÐ›Ð£Ð§Ð•ÐÐ˜Ð• ÐÐžÐ’Ð«Ð¥ Ð¡ÐžÐžÐ‘Ð©Ð•ÐÐ˜Ð™ Ð’ Ð Ð•ÐÐ›Ð¬ÐÐžÐœ Ð’Ð Ð•ÐœÐ•ÐÐ˜\n            newSocket.on(\"receive_message\", (rawMsg)=>{\n                const message = normalizeMessage(rawMsg);\n                console.log(\"\\uD83D\\uDCE9 Received new message:\", message);\n                if (currentChat && message.chatId === currentChat.id) {\n                    setMessages((prev)=>{\n                        // Remove optimistic duplicate messages: match by senderId + content + close timestamp\n                        const filtered = prev.filter((m)=>{\n                            try {\n                                if (Number(m.senderId) === Number(message.senderId) && m.content === message.content) {\n                                    const tPrev = new Date(m.timestamp).getTime();\n                                    const tMsg = new Date(message.timestamp).getTime();\n                                    if (Math.abs(tPrev - tMsg) < 15000) {\n                                        // drop optimistic\n                                        return false;\n                                    }\n                                }\n                            } catch (e) {\n                            // keep if any parse error\n                            }\n                            return true;\n                        });\n                        return [\n                            ...filtered,\n                            message\n                        ];\n                    });\n                }\n                // If message for other chat, increment unread count and optionally show notification\n                if (!currentChat || message.chatId !== currentChat.id) {\n                    console.log(\"\\uD83D\\uDCA1 New message in different chat\");\n                    setChats((prev)=>prev.map((c)=>{\n                            if (Number(c.id) === Number(message.chatId)) {\n                                return {\n                                    ...c,\n                                    unreadCount: (c.unreadCount || 0) + 1,\n                                    lastMessage: message.content,\n                                    lastMessageTime: message.timestamp,\n                                    lastMessageSender: message.displayName\n                                };\n                            }\n                            return c;\n                        }));\n                    // find chat and check muted flag\n                    try {\n                        const chat = chats.find((ch)=>Number(ch.id) === Number(message.chatId));\n                        const isMuted = chat?.muted;\n                        // show browser notification if global notifications enabled, chat is not muted and permission granted\n                        if (notifyEnabled && \"undefined\" !== \"undefined\" && 0 && 0 && 0) {}\n                        // play sound if enabled and chat not muted\n                        if (soundEnabled && !isMuted) {\n                            try {\n                                playNotificationSound();\n                            } catch (e) {}\n                        }\n                    } catch (e) {\n                    // ignore\n                    }\n                }\n            });\n            // ðŸ§© Ð ÐµÐ°ÐºÑ†Ð¸Ð¸ Ð½Ð° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ (Ñ€Ðµaltime)\n            newSocket.on(\"reaction_added\", (data)=>{\n                setMessages((prev)=>prev.map((m)=>{\n                        if (m.id === Number(data.messageId)) {\n                            const existing = m.reactions || [];\n                            // Add reaction with correct type\n                            return {\n                                ...m,\n                                reactions: [\n                                    ...existing,\n                                    {\n                                        id: Date.now(),\n                                        userId: data.userId,\n                                        userName: \"\",\n                                        emoji: data.emoji,\n                                        createdAt: new Date().toISOString()\n                                    }\n                                ]\n                            };\n                        }\n                        return m;\n                    }));\n            });\n            newSocket.on(\"reaction_removed\", (data)=>{\n                setMessages((prev)=>prev.map((m)=>{\n                        if (m.id === Number(data.messageId)) {\n                            const existing = m.reactions || [];\n                            return {\n                                ...m,\n                                reactions: existing.filter((r)=>!(r.userId === data.userId && r.emoji === data.emoji))\n                            };\n                        }\n                        return m;\n                    }));\n            });\n            // Ð¢Ð¸Ð¿Ð¸Ð½Ð³ Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ñ‹\n            newSocket.on(\"user_typing\", (data)=>{\n                setTypingUsers((prev)=>{\n                    const arr = new Set(prev[data.chatId] || []);\n                    arr.add(data.userId);\n                    return {\n                        ...prev,\n                        [data.chatId]: Array.from(arr)\n                    };\n                });\n            });\n            newSocket.on(\"user_stop_typing\", (data)=>{\n                setTypingUsers((prev)=>{\n                    const list = (prev[data.chatId] || []).filter((id)=>id !== data.userId);\n                    return {\n                        ...prev,\n                        [data.chatId]: list\n                    };\n                });\n            });\n            // Read receipts\n            newSocket.on(\"read_receipt\", (data)=>{\n                console.log(\"\\uD83D\\uDCD7 Read receipt\", data);\n                // if server notifies this user that messages were read, clear unread for that chat\n                try {\n                    if (data.userId === user.id) {\n                        setChats((prev)=>prev.map((c)=>c.id === data.chatId ? {\n                                    ...c,\n                                    unreadCount: 0\n                                } : c));\n                    }\n                } catch (e) {}\n            });\n            // ðŸ†• ÐŸÐžÐ›Ð£Ð§Ð•ÐÐ˜Ð• ÐÐžÐ’Ð«Ð¥ Ð“Ð Ð£ÐŸÐŸ\n            newSocket.on(\"new_group\", (newGroup)=>{\n                console.log(\"\\uD83C\\uDD95 Received new group:\", newGroup);\n                setChats((prev)=>{\n                    // ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð½ÐµÑ‚ Ð»Ð¸ ÑƒÐ¶Ðµ Ñ‚Ð°ÐºÐ¾Ð¹ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹\n                    const exists = prev.find((chat)=>chat.id === newGroup.id);\n                    if (!exists) {\n                        return [\n                            newGroup,\n                            ...prev\n                        ];\n                    }\n                    return prev;\n                });\n            });\n            // ðŸ†• ÐŸÐžÐ›Ð£Ð§Ð•ÐÐ˜Ð• ÐÐžÐ’Ð«Ð¥ ÐšÐÐÐÐ›ÐžÐ’\n            newSocket.on(\"new_channel\", (newChannel)=>{\n                console.log(\"\\uD83C\\uDD95 Received new channel:\", newChannel);\n                setChats((prev)=>{\n                    const exists = prev.find((chat)=>chat.id === newChannel.id);\n                    if (!exists) return [\n                        newChannel,\n                        ...prev\n                    ];\n                    return prev;\n                });\n            });\n            // ðŸ”„ ÐžÐ‘ÐÐžÐ’Ð›Ð•ÐÐ˜Ð• Ð¡ÐŸÐ˜Ð¡ÐšÐ Ð§ÐÐ¢ÐžÐ’\n            newSocket.on(\"update_chats\", ()=>{\n                console.log(\"\\uD83D\\uDD04 Updating chats list\");\n                newSocket.emit(\"get_chats\", user.id);\n            });\n            // ðŸ“‹ ÐŸÐžÐ›Ð£Ð§Ð•ÐÐ˜Ð• Ð¡ÐŸÐ˜Ð¡ÐšÐ Ð§ÐÐ¢ÐžÐ’\n            newSocket.on(\"chats_list\", (chatsData)=>{\n                console.log(\"\\uD83D\\uDCCB Received chats list:\", chatsData.length, \"chats\");\n                // apply persisted muted flags\n                try {\n                    const raw =  false ? 0 : null;\n                    const mutedIds = raw ? JSON.parse(raw) : [];\n                    const mapped = chatsData.map((c)=>({\n                            ...c,\n                            muted: mutedIds.includes(c.id)\n                        }));\n                    setChats(mapped);\n                } catch (e) {\n                    setChats(chatsData);\n                }\n            });\n            // ðŸ’¬ ÐŸÐžÐ›Ð£Ð§Ð•ÐÐ˜Ð• Ð˜Ð¡Ð¢ÐžÐ Ð˜Ð˜ Ð¡ÐžÐžÐ‘Ð©Ð•ÐÐ˜Ð™\n            newSocket.on(\"messages_history\", (data)=>{\n                if (currentChat && data.chatId === currentChat.id) {\n                    console.log(\"\\uD83D\\uDCAC Received messages history:\", data.messages.length, \"messages\");\n                    const normalized = data.messages.map(normalizeMessage);\n                    setMessages(normalized);\n                }\n            });\n            setSocket(newSocket);\n            loadChats(); // Ð”ÑƒÐ±Ð»Ð¸Ñ€ÑƒÐµÐ¼ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ Ñ‡ÐµÑ€ÐµÐ· REST API\n            return ()=>{\n                newSocket.disconnect();\n            };\n        }\n    }, [\n        user,\n        currentChat\n    ]);\n    // Simple WebAudio beep for notification sound (short beep)\n    const playNotificationSound = ()=>{\n        try {\n            const AudioCtx = window.AudioContext || window.webkitAudioContext;\n            if (!AudioCtx) return;\n            const ctx = new AudioCtx();\n            const o = ctx.createOscillator();\n            const g = ctx.createGain();\n            o.type = \"sine\";\n            o.frequency.value = 880; // A5\n            g.gain.value = 0.0015; // low volume\n            o.connect(g);\n            g.connect(ctx.destination);\n            o.start();\n            setTimeout(()=>{\n                o.stop();\n                try {\n                    ctx.close();\n                } catch (e) {}\n            }, 120);\n        } catch (e) {\n        // ignore\n        }\n    };\n    const toggleNotify = (enabled)=>{\n        const next = typeof enabled === \"boolean\" ? enabled : !notifyEnabled;\n        setNotifyEnabled(next);\n        try {\n            if (false) {}\n        } catch (e) {}\n        if (next && \"undefined\" !== \"undefined\" && 0 && 0) {}\n    };\n    const toggleSound = (enabled)=>{\n        const next = typeof enabled === \"boolean\" ? enabled : !soundEnabled;\n        setSoundEnabled(next);\n        try {\n            if (false) {}\n        } catch (e) {}\n    };\n    const toggleDarkMode = ()=>{\n        setDarkMode((prev)=>{\n            const newMode = !prev;\n            localStorage.setItem(\"theme\", newMode ? \"dark\" : \"light\");\n            return newMode;\n        });\n    };\n    // Ask for Notification permission once on client (optional)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, []);\n    // Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ‡Ð°Ñ‚Ð¾Ð² Ñ‡ÐµÑ€ÐµÐ· REST API\n    const loadChats = async ()=>{\n        if (!user) return;\n        try {\n            const response = await fetch(`http://localhost:5001/api/chats?userId=${user.id}`);\n            if (response.ok) {\n                const chatsData = await response.json();\n                setChats(chatsData);\n                console.log(\"âœ… Loaded chats via REST:\", chatsData.length);\n            }\n        } catch (error) {\n            console.error(\"âŒ Error loading chats:\", error);\n        }\n    };\n    // Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹\n    const loadMessages = async (chatId)=>{\n        if (!user) return;\n        try {\n            const response = await fetch(`http://localhost:5001/api/messages?chatId=${chatId}&userId=${user.id}`);\n            if (response.ok) {\n                const messagesData = await response.json();\n                // For each message fetch reactions (small optimization: parallel requests)\n                const messagesWithReactions = await Promise.all(messagesData.map(async (m)=>{\n                    // normalize server shape first\n                    const normalized = normalizeMessage(m);\n                    try {\n                        const r = await fetch(`http://localhost:5001/api/messages/${m.id}/reactions`);\n                        if (r.ok) {\n                            const reactions = await r.json();\n                            return {\n                                ...normalized,\n                                reactions\n                            };\n                        }\n                    } catch (err) {\n                    // ignore\n                    }\n                    return {\n                        ...normalized,\n                        reactions: []\n                    };\n                }));\n                setMessages(messagesWithReactions);\n                console.log(\"âœ… Loaded messages:\", messagesData.length);\n                // Ð¢Ð°ÐºÐ¶Ðµ Ð·Ð°Ð¿Ñ€Ð°ÑˆÐ¸Ð²Ð°ÐµÐ¼ Ñ‡ÐµÑ€ÐµÐ· socket Ð´Ð»Ñ real-time\n                if (socket) {\n                    socket.emit(\"get_messages\", {\n                        chatId,\n                        userId: user.id\n                    });\n                }\n            }\n        } catch (error) {\n            console.error(\"âŒ Error loading messages:\", error);\n        }\n    };\n    const toggleMute = (chatId)=>{\n        setChats((prev)=>{\n            const updated = prev.map((c)=>c.id === chatId ? {\n                    ...c,\n                    muted: !c.muted\n                } : c);\n            try {\n                const mutedIds = updated.filter((c)=>c.muted).map((c)=>c.id);\n                if (false) {}\n            } catch (e) {\n            // ignore\n            }\n            return updated;\n        });\n    };\n    // Apply theme on initialization\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        document.body.classList.toggle(\"dark\", darkMode);\n    }, [\n        darkMode\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AppContext.Provider, {\n        value: {\n            user,\n            setUser,\n            socket,\n            darkMode,\n            toggleDarkMode,\n            chats,\n            setChats,\n            currentChat,\n            setCurrentChat,\n            messages,\n            setMessages,\n            toggleMute,\n            notifyEnabled,\n            toggleNotify,\n            soundEnabled,\n            toggleSound,\n            typingUsers,\n            loadChats,\n            loadMessages,\n            sendMessage,\n            checkBlockStatus,\n            blockedUsers,\n            refreshBlockedUsers\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/user/Desktop/KRX/KRX 2.0/client/src/contexts/AppContext.tsx\",\n        lineNumber: 514,\n        columnNumber: 5\n    }, undefined);\n};\nconst useApp = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AppContext);\n    if (context === undefined) {\n        throw new Error(\"useApp must be used within an AppProvider\");\n    }\n    return context;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJVDtZQUM1RSxJQUFJO2dCQUNGLE1BQU1vQyxXQUFXb0MsUUFBUS9FLE1BQU0sQ0FBQ08sQ0FBQUEsSUFBS0EsRUFBRVMsS0FBSyxFQUFFVixHQUFHLENBQUNDLENBQUFBLElBQUtBLEVBQUU3RixFQUFFO2dCQUMzRCxJQUFJLEtBQWtCLEVBQWFhLEVBQWtFb0g7WUFDdkcsRUFBRSxPQUFPL0csR0FBRztZQUNWLFNBQVM7WUFDWDtZQUNBLE9BQU9tSjtRQUNUO0lBQ0Y7SUFFQSxnQ0FBZ0M7SUFDaENuTCxnREFBU0EsQ0FBQztRQUNSb0wsU0FBU3hELElBQUksQ0FBQ3lELFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFFBQVE5STtJQUN6QyxHQUFHO1FBQUNBO0tBQVM7SUFFYixxQkFDRSw4REFBQ3RDLFdBQVdxTCxRQUFRO1FBQUN6QixPQUFPO1lBQzFCeEo7WUFDQW1CO1lBQ0FhO1lBQ0FFO1lBQ0FtSTtZQUNBakk7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQW1JO1lBQ0FoSTtZQUNBb0g7WUFDQWxIO1lBQ0FzSDtZQUNBMUg7WUFDQW1HO1lBQ0EwQjtZQUNBdkg7WUFDQWhDO1lBQ0FkO1lBQ0FHO1FBQ0Y7a0JBQ0dOOzs7Ozs7QUFHUCxFQUFFO0FBRUssTUFBTW1MLFNBQVM7SUFDcEIsTUFBTUMsVUFBVTNMLGlEQUFVQSxDQUFDSTtJQUMzQixJQUFJdUwsWUFBWXRMLFdBQVc7UUFDekIsTUFBTSxJQUFJYSxNQUFNO0lBQ2xCO0lBQ0EsT0FBT3lLO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2tyeC1jbGllbnQvLi9zcmMvY29udGV4dHMvQXBwQ29udGV4dC50c3g/YjFkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVzZXIsIENoYXQsIE1lc3NhZ2UsIEVtb2ppVHlwZSB9IGZyb20gJy4uL3R5cGVzL3R5cGVzJztcbmltcG9ydCBpbywgeyBTb2NrZXQgfSBmcm9tICdzb2NrZXQuaW8tY2xpZW50JztcblxuaW50ZXJmYWNlIEFwcENvbnRleHRUeXBlIHtcbiAgdXNlcjogVXNlciB8IG51bGw7XG4gIHNldFVzZXI6ICh1c2VyOiBVc2VyIHwgbnVsbCkgPT4gdm9pZDtcbiAgc29ja2V0OiBTb2NrZXQgfCBudWxsO1xuICBkYXJrTW9kZTogYm9vbGVhbjtcbiAgdG9nZ2xlRGFya01vZGU6ICgpID0+IHZvaWQ7XG4gIGNoYXRzOiBDaGF0W107XG4gIHNldENoYXRzOiBSZWFjdC5EaXNwYXRjaDxSZWFjdC5TZXRTdGF0ZUFjdGlvbjxDaGF0W10+PjtcbiAgY3VycmVudENoYXQ6IENoYXQgfCBudWxsO1xuICBzZXRDdXJyZW50Q2hhdDogUmVhY3QuRGlzcGF0Y2g8UmVhY3QuU2V0U3RhdGVBY3Rpb248Q2hhdCB8IG51bGw+PjtcbiAgbWVzc2FnZXM6IE1lc3NhZ2VbXTtcbiAgc2V0TWVzc2FnZXM6IFJlYWN0LkRpc3BhdGNoPFJlYWN0LlNldFN0YXRlQWN0aW9uPE1lc3NhZ2VbXT4+O1xuICBsb2FkQ2hhdHM6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGxvYWRNZXNzYWdlczogKGNoYXRJZDogbnVtYmVyKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzZW5kTWVzc2FnZTogKGNvbnRlbnQ6IHN0cmluZywgY2hhdElkOiBudW1iZXIsIG1lc3NhZ2VUeXBlPzogc3RyaW5nKSA9PiB2b2lkO1xuICB0b2dnbGVNdXRlOiAoY2hhdElkOiBudW1iZXIpID0+IHZvaWQ7XG4gIG5vdGlmeUVuYWJsZWQ6IGJvb2xlYW47XG4gIHRvZ2dsZU5vdGlmeTogKGVuYWJsZWQ/OiBib29sZWFuKSA9PiB2b2lkO1xuICBzb3VuZEVuYWJsZWQ6IGJvb2xlYW47XG4gIHRvZ2dsZVNvdW5kOiAoZW5hYmxlZD86IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHR5cGluZ1VzZXJzOiBSZWNvcmQ8bnVtYmVyLCBudW1iZXJbXT47XG4gIGNoZWNrQmxvY2tTdGF0dXM6ICh1c2VySWQ6IG51bWJlcikgPT4gUHJvbWlzZTxib29sZWFuPjtcbiAgYmxvY2tlZFVzZXJzOiBTZXQ8bnVtYmVyPjtcbiAgcmVmcmVzaEJsb2NrZWRVc2VyczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuY29uc3QgQXBwQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QXBwQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBjb25zdCBBcHBQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICAvLyB1c2VyIHN0YXRlIChzdGFydCBudWxsIG9uIHNlcnZlciB0byBhdm9pZCBoeWRyYXRpb24gbWlzbWF0Y2gpXG4gIGNvbnN0IFt1c2VyLCBfc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtibG9ja2VkVXNlcnMsIHNldEJsb2NrZWRVc2Vyc10gPSB1c2VTdGF0ZTxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKTtcblxuICAvLyDQntCx0L3QvtCy0LvQtdC90LjQtSDRgdC/0LjRgdC60LAg0LfQsNCx0LvQvtC60LjRgNC+0LLQsNC90L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5XG4gIGNvbnN0IHJlZnJlc2hCbG9ja2VkVXNlcnMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VyKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMS9hcGkvdXNlcnMvYmxvY2tlZD91c2VySWQ9JHt1c2VyLmlkfWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggYmxvY2tlZCB1c2VycycpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHNldEJsb2NrZWRVc2VycyhuZXcgU2V0KGRhdGEuYmxvY2tlZFVzZXJzKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVmcmVzaCBibG9ja2VkIHVzZXJzOicsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8vINCf0YDQvtCy0LXRgNC60LAg0LHQu9C+0LrQuNGA0L7QstC60Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gIGNvbnN0IGNoZWNrQmxvY2tTdGF0dXMgPSBhc3luYyAodXNlcklkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVybiBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMS9hcGkvdXNlcnMvYmxvY2stc3RhdHVzLyR7dXNlcklkfT9jaGVja2VkQnlJZD0ke3VzZXIuaWR9YFxuICAgICAgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNoZWNrIGJsb2NrIHN0YXR1cycpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiBkYXRhLmlzQmxvY2tlZDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Jsb2NrIHN0YXR1cyBjaGVjayBlcnJvcjonLCBlcnIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvLyB3cmFwcGVyIHRvIGtlZXAgbG9jYWxTdG9yYWdlIGluIHN5bmNcbiAgY29uc3Qgc2V0VXNlciA9ICh1OiBVc2VyIHwgbnVsbCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHUpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdrcnhfdXNlcicsIEpTT04uc3RyaW5naWZ5KHUpKTtcbiAgICAgICAgZWxzZSBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgna3J4X3VzZXInKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBwZXJzaXN0IHVzZXIgdG8gbG9jYWxTdG9yYWdlJywgZSk7XG4gICAgfVxuICAgIF9zZXRVc2VyKHUpO1xuICB9O1xuXG4gIC8vIE9uIGNsaWVudCBtb3VudCByZWFkIHBlcnNpc3RlZCB1c2VyIHRvIHJlc3RvcmUgc2Vzc2lvbiAoYXZvaWRzIHNlcnZlci9jbGllbnQgbWFya3VwIG1pc21hdGNoKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgna3J4X3VzZXInKTtcbiAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShyYXcpIGFzIFVzZXI7XG4gICAgICAgIF9zZXRVc2VyKHBhcnNlZCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gaWdub3JlIHBhcnNlIGVycm9yc1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vINCX0LDQs9GA0YPQttCw0LXQvCDRgdC/0LjRgdC+0Log0LfQsNCx0LvQvtC60LjRgNC+0LLQsNC90L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5INC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INC4INGB0LzQtdC90LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHJlZnJlc2hCbG9ja2VkVXNlcnMoKTtcbiAgICB9XG4gIH0sIFt1c2VyXSk7XG4gIGNvbnN0IFtzb2NrZXQsIHNldFNvY2tldF0gPSB1c2VTdGF0ZTxTb2NrZXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2RhcmtNb2RlLCBzZXREYXJrTW9kZV0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpID09PSAnZGFyayc7XG4gIH0pO1xuICBjb25zdCBbY2hhdHMsIHNldENoYXRzXSA9IHVzZVN0YXRlPENoYXRbXT4oW10pO1xuICBjb25zdCBbY3VycmVudENoYXQsIHNldEN1cnJlbnRDaGF0XSA9IHVzZVN0YXRlPENoYXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKTtcbiAgY29uc3QgW3R5cGluZ1VzZXJzLCBzZXRUeXBpbmdVc2Vyc10gPSB1c2VTdGF0ZTxSZWNvcmQ8bnVtYmVyLCBudW1iZXJbXT4+KHt9KTsgLy8gY2hhdElkIC0+IGFycmF5IG9mIHVzZXJJZHNcbiAgY29uc3QgW25vdGlmeUVuYWJsZWQsIHNldE5vdGlmeUVuYWJsZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2tyeF9ub3RpZnlfZW5hYmxlZCcpO1xuICAgICAgICByZXR1cm4gcmF3ID8gSlNPTi5wYXJzZShyYXcpIDogZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgY29uc3QgW3NvdW5kRW5hYmxlZCwgc2V0U291bmRFbmFibGVkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdrcnhfc291bmRfZW5hYmxlZCcpO1xuICAgICAgICByZXR1cm4gcmF3ID8gSlNPTi5wYXJzZShyYXcpIDogdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7IH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG4gIC8vIE9uLWNsaWVudCBtdXRlZCBjaGF0cyBzdG9yZWQgaW4gbG9jYWxTdG9yYWdlIChjbGllbnQgcHJlZmVyZW5jZSlcbiAgLy8gV2UgcGVyc2lzdCBwZXItY2hhdCBtdXRlZCBzdGF0ZSBpbiBsb2NhbFN0b3JhZ2UgdW5kZXIgJ2tyeF9tdXRlZF9jaGF0cydcblxuICAvLyDQpNGD0L3QutGG0LjRjyDQvtGC0L/RgNCw0LLQutC4INGB0L7QvtCx0YnQtdC90LjRj1xuICBjb25zdCBzZW5kTWVzc2FnZSA9IChjb250ZW50OiBzdHJpbmcsIGNoYXRJZDogbnVtYmVyLCBtZXNzYWdlVHlwZT86IHN0cmluZywgaXNDb21tZW50PzogYm9vbGVhbikgPT4ge1xuICAgIGlmICghc29ja2V0IHx8ICF1c2VyKSByZXR1cm47XG5cbiAgICBjb25zdCBtZXNzYWdlRGF0YTogYW55ID0ge1xuICAgICAgY2hhdElkLFxuICAgICAgc2VuZGVySWQ6IHVzZXIuaWQsXG4gICAgICBjb250ZW50OiBjb250ZW50LnRyaW0oKSxcbiAgICAgIGlzQ29tbWVudDogaXNDb21tZW50IHx8IGZhbHNlXG4gICAgfTtcbiAgICBpZiAobWVzc2FnZVR5cGUpIG1lc3NhZ2VEYXRhLm1lc3NhZ2VUeXBlID0gbWVzc2FnZVR5cGU7XG5cbiAgICBjb25zb2xlLmxvZygn8J+TpCBTZW5kaW5nIG1lc3NhZ2U6JywgbWVzc2FnZURhdGEpO1xuICAgIHNvY2tldC5lbWl0KCdzZW5kX21lc3NhZ2UnLCBtZXNzYWdlRGF0YSk7XG5cbiAgICAvLyDQntCf0KLQmNCc0JjQodCi0JjQp9CV0KHQmtCe0JUg0J7QkdCd0J7QktCb0JXQndCY0JUgLSDRgdGA0LDQt9GDINC/0L7QutCw0LfRi9Cy0LDQtdC8INGB0L7QvtCx0YnQtdC90LjQtVxuICAgIGNvbnN0IG9wdGltaXN0aWNNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgaWQ6IERhdGUubm93KCksIC8vINCS0YDQtdC80LXQvdC90YvQuSBJRFxuICAgICAgY2hhdElkLFxuICAgICAgc2VuZGVySWQ6IHVzZXIuaWQsXG4gICAgICBjb250ZW50OiBjb250ZW50LnRyaW0oKSxcbiAgICAgIG1lc3NhZ2VUeXBlOiBtZXNzYWdlRGF0YS5tZXNzYWdlVHlwZSB8fCAndGV4dCcsXG4gICAgICBpc1JlYWQ6IGZhbHNlLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxuICAgICAgYXZhdGFyVXJsOiB1c2VyLmF2YXRhclVybFxuICAgIH07XG5cbiAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBvcHRpbWlzdGljTWVzc2FnZV0pO1xuICB9O1xuXG4gIC8vIE5vcm1hbGl6ZSBzZXJ2ZXIgbWVzc2FnZSBzaGFwZSB0byBjbGllbnQgTWVzc2FnZSBpbnRlcmZhY2UgKGNhbWVsQ2FzZSlcbiAgY29uc3Qgbm9ybWFsaXplTWVzc2FnZSA9IChtOiBhbnkpOiBNZXNzYWdlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IE51bWJlcihtLmlkKSxcbiAgICAgIGNoYXRJZDogTnVtYmVyKG0uY2hhdF9pZCA/PyBtLmNoYXRJZCksXG4gICAgICBzZW5kZXJJZDogTnVtYmVyKG0uc2VuZGVyX2lkID8/IG0uc2VuZGVySWQpLFxuICAgICAgLy8gZW5zdXJlIG1lZGlhIHVybHMgYXJlIGFic29sdXRlIHNvIGF1ZGlvL2ltZy92aWRlbyBsb2FkIGNvcnJlY3RseSBmcm9tIGNsaWVudFxuICAgICAgY29udGVudDogKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmF3ID0gbS5jb250ZW50ID8/ICcnO1xuICAgICAgICBpZiAodHlwZW9mIHJhdyA9PT0gJ3N0cmluZycgJiYgcmF3LnN0YXJ0c1dpdGgoJy8nKSkgcmV0dXJuIGBodHRwOi8vbG9jYWxob3N0OjUwMDEke3Jhd31gO1xuICAgICAgICByZXR1cm4gcmF3O1xuICAgICAgfSkoKSxcbiAgICAgIG1lc3NhZ2VUeXBlOiBtLm1lc3NhZ2VfdHlwZSA/PyBtLm1lc3NhZ2VUeXBlID8/ICd0ZXh0JyxcbiAgICAgIGlzUmVhZDogKG0uaXNfcmVhZCA9PT0gMSkgfHwgbS5pc1JlYWQgfHwgZmFsc2UsXG4gICAgICB0aW1lc3RhbXA6IG0udGltZXN0YW1wID8/IG0uY3JlYXRlZF9hdCA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB1c2VybmFtZTogbS51c2VybmFtZSA/PyBtLnVzZXJOYW1lID8/ICcnLFxuICAgICAgZGlzcGxheU5hbWU6IG0uZGlzcGxheU5hbWUgPz8gbS5kaXNwbGF5X25hbWUgPz8gJycsXG4gICAgICBhdmF0YXJVcmw6ICgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGEgPSBtLmF2YXRhclVybCA/PyBtLmF2YXRhcl91cmwgPz8gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdzdHJpbmcnICYmIGEuc3RhcnRzV2l0aCgnLycpKSByZXR1cm4gYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMSR7YX1gO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0pKCksXG4gICAgICByZWFjdGlvbnM6IG0ucmVhY3Rpb25zID8/IFtdXG4gICAgfTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh1c2VyKSB7XG4gICAgICAvLyBDcmVhdGUgc29ja2V0IHdpdGggcmVjb25uZWN0aW9uIG9wdGlvbnMgc28gaXQgc3Vydml2ZXMgc2hvcnQgbmV0d29yayBnbGl0Y2hlc1xuICAgICAgY29uc3QgbmV3U29ja2V0ID0gaW8oJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMScsIHtcbiAgICAgICAgdHJhbnNwb3J0czogWyd3ZWJzb2NrZXQnXSxcbiAgICAgICAgcmVjb25uZWN0aW9uOiB0cnVlLFxuICAgICAgICByZWNvbm5lY3Rpb25BdHRlbXB0czogSW5maW5pdHksXG4gICAgICAgIHJlY29ubmVjdGlvbkRlbGF5OiAxMDAwLFxuICAgICAgICByZWNvbm5lY3Rpb25EZWxheU1heDogNTAwMCxcbiAgICAgICAgYXV0b0Nvbm5lY3Q6IHRydWVcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyDQntGB0L3QvtCy0L3Ri9C1INGB0L7QsdGL0YLQuNGPINC/0L7QtNC60LvRjtGH0LXQvdC40Y9cbiAgICAgIG5ld1NvY2tldC5lbWl0KCd1c2VyX29ubGluZScsIHVzZXIuaWQpO1xuICAgICAgbmV3U29ja2V0LmVtaXQoJ2pvaW5fY2hhdHMnLCB1c2VyLmlkKTtcbiAgICAgIG5ld1NvY2tldC5lbWl0KCdnZXRfY2hhdHMnLCB1c2VyLmlkKTtcbiAgICAgIFxuICAgICAgLy8g8J+TqSDQn9Ce0JvQo9Cn0JXQndCY0JUg0J3QntCS0KvQpSDQodCe0J7QkdCp0JXQndCY0Jkg0JIg0KDQldCQ0JvQrNCd0J7QnCDQktCg0JXQnNCV0J3QmFxuICAgICAgICBuZXdTb2NrZXQub24oJ3JlY2VpdmVfbWVzc2FnZScsIChyYXdNc2c6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBub3JtYWxpemVNZXNzYWdlKHJhd01zZyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6kgUmVjZWl2ZWQgbmV3IG1lc3NhZ2U6JywgbWVzc2FnZSk7XG5cbiAgICAgICAgICBpZiAoY3VycmVudENoYXQgJiYgbWVzc2FnZS5jaGF0SWQgPT09IGN1cnJlbnRDaGF0LmlkKSB7XG4gICAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIG9wdGltaXN0aWMgZHVwbGljYXRlIG1lc3NhZ2VzOiBtYXRjaCBieSBzZW5kZXJJZCArIGNvbnRlbnQgKyBjbG9zZSB0aW1lc3RhbXBcbiAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBwcmV2LmZpbHRlcihtID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKE51bWJlcihtLnNlbmRlcklkKSA9PT0gTnVtYmVyKG1lc3NhZ2Uuc2VuZGVySWQpICYmIG0uY29udGVudCA9PT0gbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRQcmV2ID0gbmV3IERhdGUobS50aW1lc3RhbXApLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdE1zZyA9IG5ldyBEYXRlKG1lc3NhZ2UudGltZXN0YW1wKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0UHJldiAtIHRNc2cpIDwgMTUwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBkcm9wIG9wdGltaXN0aWNcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBrZWVwIGlmIGFueSBwYXJzZSBlcnJvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiBbLi4uZmlsdGVyZWQsIG1lc3NhZ2VdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSWYgbWVzc2FnZSBmb3Igb3RoZXIgY2hhdCwgaW5jcmVtZW50IHVucmVhZCBjb3VudCBhbmQgb3B0aW9uYWxseSBzaG93IG5vdGlmaWNhdGlvblxuICAgICAgICAgIGlmICghY3VycmVudENoYXQgfHwgbWVzc2FnZS5jaGF0SWQgIT09IGN1cnJlbnRDaGF0LmlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SoSBOZXcgbWVzc2FnZSBpbiBkaWZmZXJlbnQgY2hhdCcpO1xuICAgICAgICAgICAgc2V0Q2hhdHMocHJldiA9PiBwcmV2Lm1hcChjID0+IHtcbiAgICAgICAgICAgICAgaWYgKE51bWJlcihjLmlkKSA9PT0gTnVtYmVyKG1lc3NhZ2UuY2hhdElkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAuLi5jLFxuICAgICAgICAgICAgICAgICAgdW5yZWFkQ291bnQ6IChjLnVucmVhZENvdW50IHx8IDApICsgMSxcbiAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlOiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVRpbWU6IG1lc3NhZ2UudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VTZW5kZXI6IG1lc3NhZ2UuZGlzcGxheU5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAvLyBmaW5kIGNoYXQgYW5kIGNoZWNrIG11dGVkIGZsYWdcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoYXQgPSBjaGF0cy5maW5kKGNoID0+IE51bWJlcihjaC5pZCkgPT09IE51bWJlcihtZXNzYWdlLmNoYXRJZCkpO1xuICAgICAgICAgICAgICBjb25zdCBpc011dGVkID0gY2hhdD8ubXV0ZWQ7XG4gICAgICAgICAgICAgIC8vIHNob3cgYnJvd3NlciBub3RpZmljYXRpb24gaWYgZ2xvYmFsIG5vdGlmaWNhdGlvbnMgZW5hYmxlZCwgY2hhdCBpcyBub3QgbXV0ZWQgYW5kIHBlcm1pc3Npb24gZ3JhbnRlZFxuICAgICAgICAgICAgICBpZiAobm90aWZ5RW5hYmxlZCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhaXNNdXRlZCAmJiAnTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cgJiYgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdncmFudGVkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gY2hhdD8udHlwZSA9PT0gJ2RpcmVjdCcgPyAoY2hhdC5vdGhlclVzZXI/LmRpc3BsYXlOYW1lIHx8ICdOZXcgbWVzc2FnZScpIDogKGNoYXQ/Lm5hbWUgfHwgJ05ldyBtZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9keSA9IGAke21lc3NhZ2UuZGlzcGxheU5hbWV9OiAke3R5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09ICdzdHJpbmcnID8gbWVzc2FnZS5jb250ZW50LnNsaWNlKDAsIDEyMCkgOiAnJ31gO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBuZXcgTm90aWZpY2F0aW9uKHRpdGxlLCB7IGJvZHksIGljb246IG1lc3NhZ2UuYXZhdGFyVXJsIH0pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm90aWZpY2F0aW9uIGVycm9yJywgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gcGxheSBzb3VuZCBpZiBlbmFibGVkIGFuZCBjaGF0IG5vdCBtdXRlZFxuICAgICAgICAgICAgICBpZiAoc291bmRFbmFibGVkICYmICFpc011dGVkKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHsgcGxheU5vdGlmaWNhdGlvblNvdW5kKCk7IH0gY2F0Y2ggKGUpIHsgLyogaWdub3JlICovIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyDwn6epINCg0LXQsNC60YbQuNC4INC90LAg0YHQvtC+0LHRidC10L3QuNGPICjRgNC1YWx0aW1lKVxuICAgICAgbmV3U29ja2V0Lm9uKCdyZWFjdGlvbl9hZGRlZCcsIChkYXRhOiB7IG1lc3NhZ2VJZDogbnVtYmVyLCB1c2VySWQ6IG51bWJlciwgZW1vamk6IHN0cmluZyB9KSA9PiB7XG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobSA9PiB7XG4gICAgICAgICAgaWYgKG0uaWQgPT09IE51bWJlcihkYXRhLm1lc3NhZ2VJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gbS5yZWFjdGlvbnMgfHwgW107XG4gICAgICAgICAgICAvLyBBZGQgcmVhY3Rpb24gd2l0aCBjb3JyZWN0IHR5cGVcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLm0sXG4gICAgICAgICAgICAgIHJlYWN0aW9uczogWy4uLmV4aXN0aW5nLCB7IGlkOiBEYXRlLm5vdygpLCB1c2VySWQ6IGRhdGEudXNlcklkLCB1c2VyTmFtZTogJycsIGVtb2ppOiBkYXRhLmVtb2ppIGFzIEVtb2ppVHlwZSwgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfV1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9KSk7XG4gICAgICB9KTtcblxuICAgICAgbmV3U29ja2V0Lm9uKCdyZWFjdGlvbl9yZW1vdmVkJywgKGRhdGE6IHsgbWVzc2FnZUlkOiBudW1iZXIsIHVzZXJJZDogbnVtYmVyLCBlbW9qaTogc3RyaW5nIH0pID0+IHtcbiAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtID0+IHtcbiAgICAgICAgICBpZiAobS5pZCA9PT0gTnVtYmVyKGRhdGEubWVzc2FnZUlkKSkge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBtLnJlYWN0aW9ucyB8fCBbXTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLm0sIHJlYWN0aW9uczogZXhpc3RpbmcuZmlsdGVyKHIgPT4gIShyLnVzZXJJZCA9PT0gZGF0YS51c2VySWQgJiYgci5lbW9qaSA9PT0gZGF0YS5lbW9qaSkpIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICB9KSk7XG4gICAgICB9KTtcblxuICAgICAgLy8g0KLQuNC/0LjQvdCzINC40L3QtNC40LrQsNGC0L7RgNGLXG4gICAgICBuZXdTb2NrZXQub24oJ3VzZXJfdHlwaW5nJywgKGRhdGE6IHsgY2hhdElkOiBudW1iZXIsIHVzZXJJZDogbnVtYmVyIH0pID0+IHtcbiAgICAgICAgc2V0VHlwaW5nVXNlcnMocHJldiA9PiB7XG4gICAgICAgICAgY29uc3QgYXJyID0gbmV3IFNldChwcmV2W2RhdGEuY2hhdElkXSB8fCBbXSk7XG4gICAgICAgICAgYXJyLmFkZChkYXRhLnVzZXJJZCk7XG4gICAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgW2RhdGEuY2hhdElkXTogQXJyYXkuZnJvbShhcnIpIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIG5ld1NvY2tldC5vbigndXNlcl9zdG9wX3R5cGluZycsIChkYXRhOiB7IGNoYXRJZDogbnVtYmVyLCB1c2VySWQ6IG51bWJlciB9KSA9PiB7XG4gICAgICAgIHNldFR5cGluZ1VzZXJzKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IGxpc3QgPSAocHJldltkYXRhLmNoYXRJZF0gfHwgW10pLmZpbHRlcihpZCA9PiBpZCAhPT0gZGF0YS51c2VySWQpO1xuICAgICAgICAgIHJldHVybiB7IC4uLnByZXYsIFtkYXRhLmNoYXRJZF06IGxpc3QgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVhZCByZWNlaXB0c1xuICAgICAgbmV3U29ja2V0Lm9uKCdyZWFkX3JlY2VpcHQnLCAoZGF0YTogeyBjaGF0SWQ6IG51bWJlciwgdXNlcklkOiBudW1iZXIsIHRpbWVzdGFtcDogc3RyaW5nIH0pID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk5cgUmVhZCByZWNlaXB0JywgZGF0YSk7XG4gICAgICAgIC8vIGlmIHNlcnZlciBub3RpZmllcyB0aGlzIHVzZXIgdGhhdCBtZXNzYWdlcyB3ZXJlIHJlYWQsIGNsZWFyIHVucmVhZCBmb3IgdGhhdCBjaGF0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGRhdGEudXNlcklkID09PSB1c2VyLmlkKSB7XG4gICAgICAgICAgICBzZXRDaGF0cyhwcmV2ID0+IHByZXYubWFwKGMgPT4gYy5pZCA9PT0gZGF0YS5jaGF0SWQgPyB7IC4uLmMsIHVucmVhZENvdW50OiAwIH0gOiBjKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7IC8qIGlnbm9yZSAqLyB9XG4gICAgICB9KTtcblxuICAgICAgLy8g8J+GlSDQn9Ce0JvQo9Cn0JXQndCY0JUg0J3QntCS0KvQpSDQk9Cg0KPQn9CfXG4gICAgICBuZXdTb2NrZXQub24oJ25ld19ncm91cCcsIChuZXdHcm91cDogQ2hhdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+GlSBSZWNlaXZlZCBuZXcgZ3JvdXA6JywgbmV3R3JvdXApO1xuICAgICAgICBzZXRDaGF0cyhwcmV2ID0+IHtcbiAgICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L3QtdGCINC70Lgg0YPQttC1INGC0LDQutC+0Lkg0LPRgNGD0L/Qv9GLXG4gICAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5maW5kKGNoYXQgPT4gY2hhdC5pZCA9PT0gbmV3R3JvdXAuaWQpO1xuICAgICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICByZXR1cm4gW25ld0dyb3VwLCAuLi5wcmV2XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIPCfhpUg0J/QntCb0KPQp9CV0J3QmNCVINCd0J7QktCr0KUg0JrQkNCd0JDQm9Ce0JJcbiAgICAgIG5ld1NvY2tldC5vbignbmV3X2NoYW5uZWwnLCAobmV3Q2hhbm5lbDogQ2hhdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+GlSBSZWNlaXZlZCBuZXcgY2hhbm5lbDonLCBuZXdDaGFubmVsKTtcbiAgICAgICAgc2V0Q2hhdHMocHJldiA9PiB7XG4gICAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5maW5kKGNoYXQgPT4gY2hhdC5pZCA9PT0gbmV3Q2hhbm5lbC5pZCk7XG4gICAgICAgICAgaWYgKCFleGlzdHMpIHJldHVybiBbbmV3Q2hhbm5lbCwgLi4ucHJldl07XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIPCflIQg0J7QkdCd0J7QktCb0JXQndCY0JUg0KHQn9CY0KHQmtCQINCn0JDQotCe0JJcbiAgICAgIG5ld1NvY2tldC5vbigndXBkYXRlX2NoYXRzJywgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBVcGRhdGluZyBjaGF0cyBsaXN0Jyk7XG4gICAgICAgIG5ld1NvY2tldC5lbWl0KCdnZXRfY2hhdHMnLCB1c2VyLmlkKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyDwn5OLINCf0J7Qm9Cj0KfQldCd0JjQlSDQodCf0JjQodCa0JAg0KfQkNCi0J7QklxuICAgICAgbmV3U29ja2V0Lm9uKCdjaGF0c19saXN0JywgKGNoYXRzRGF0YTogQ2hhdFtdKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIFJlY2VpdmVkIGNoYXRzIGxpc3Q6JywgY2hhdHNEYXRhLmxlbmd0aCwgJ2NoYXRzJyk7XG4gICAgICAgIC8vIGFwcGx5IHBlcnNpc3RlZCBtdXRlZCBmbGFnc1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJhdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2tyeF9tdXRlZF9jaGF0cycpIDogbnVsbDtcbiAgICAgICAgICBjb25zdCBtdXRlZElkczogbnVtYmVyW10gPSByYXcgPyBKU09OLnBhcnNlKHJhdykgOiBbXTtcbiAgICAgICAgICBjb25zdCBtYXBwZWQgPSBjaGF0c0RhdGEubWFwKGMgPT4gKHsgLi4uYywgbXV0ZWQ6IG11dGVkSWRzLmluY2x1ZGVzKGMuaWQpIH0pKTtcbiAgICAgICAgICBzZXRDaGF0cyhtYXBwZWQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgc2V0Q2hhdHMoY2hhdHNEYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIPCfkqwg0J/QntCb0KPQp9CV0J3QmNCVINCY0KHQotCe0KDQmNCYINCh0J7QntCR0KnQldCd0JjQmVxuICAgICAgbmV3U29ja2V0Lm9uKCdtZXNzYWdlc19oaXN0b3J5JywgKGRhdGE6IHsgY2hhdElkOiBudW1iZXIsIG1lc3NhZ2VzOiBNZXNzYWdlW10gfSkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudENoYXQgJiYgZGF0YS5jaGF0SWQgPT09IGN1cnJlbnRDaGF0LmlkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgUmVjZWl2ZWQgbWVzc2FnZXMgaGlzdG9yeTonLCBkYXRhLm1lc3NhZ2VzLmxlbmd0aCwgJ21lc3NhZ2VzJyk7XG4gICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBkYXRhLm1lc3NhZ2VzLm1hcChub3JtYWxpemVNZXNzYWdlKTtcbiAgICAgICAgICAgc2V0TWVzc2FnZXMobm9ybWFsaXplZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gIHNldFNvY2tldChuZXdTb2NrZXQpO1xuICAgICAgbG9hZENoYXRzKCk7IC8vINCU0YPQsdC70LjRgNGD0LXQvCDQt9Cw0LPRgNGD0LfQutGDINGH0LXRgNC10LcgUkVTVCBBUElcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgbmV3U29ja2V0LmRpc2Nvbm5lY3QoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbdXNlciwgY3VycmVudENoYXRdKTtcblxuICAvLyBTaW1wbGUgV2ViQXVkaW8gYmVlcCBmb3Igbm90aWZpY2F0aW9uIHNvdW5kIChzaG9ydCBiZWVwKVxuICBjb25zdCBwbGF5Tm90aWZpY2F0aW9uU291bmQgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IEF1ZGlvQ3R4ID0gKHdpbmRvdyBhcyBhbnkpLkF1ZGlvQ29udGV4dCB8fCAod2luZG93IGFzIGFueSkud2Via2l0QXVkaW9Db250ZXh0O1xuICAgICAgaWYgKCFBdWRpb0N0eCkgcmV0dXJuO1xuICAgICAgY29uc3QgY3R4ID0gbmV3IEF1ZGlvQ3R4KCk7XG4gICAgICBjb25zdCBvID0gY3R4LmNyZWF0ZU9zY2lsbGF0b3IoKTtcbiAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlR2FpbigpO1xuICAgICAgby50eXBlID0gJ3NpbmUnO1xuICAgICAgby5mcmVxdWVuY3kudmFsdWUgPSA4ODA7IC8vIEE1XG4gICAgICBnLmdhaW4udmFsdWUgPSAwLjAwMTU7IC8vIGxvdyB2b2x1bWVcbiAgICAgIG8uY29ubmVjdChnKTtcbiAgICAgIGcuY29ubmVjdChjdHguZGVzdGluYXRpb24pO1xuICAgICAgby5zdGFydCgpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG8uc3RvcCgpO1xuICAgICAgICB0cnkgeyBjdHguY2xvc2UoKTsgfSBjYXRjaCAoZSkgeyAvKiBpZ25vcmUgKi8gfVxuICAgICAgfSwgMTIwKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBpZ25vcmVcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlTm90aWZ5ID0gKGVuYWJsZWQ/OiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgbmV4dCA9IHR5cGVvZiBlbmFibGVkID09PSAnYm9vbGVhbicgPyBlbmFibGVkIDogIW5vdGlmeUVuYWJsZWQ7XG4gICAgc2V0Tm90aWZ5RW5hYmxlZChuZXh0KTtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgna3J4X25vdGlmeV9lbmFibGVkJywgSlNPTi5zdHJpbmdpZnkobmV4dCkpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgaWYgKG5leHQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ05vdGlmaWNhdGlvbicgaW4gd2luZG93ICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZGVmYXVsdCcpIHtcbiAgICAgIHRyeSB7IE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpOyB9IGNhdGNoIChlKSB7IC8qIGlnbm9yZSAqLyB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZVNvdW5kID0gKGVuYWJsZWQ/OiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgbmV4dCA9IHR5cGVvZiBlbmFibGVkID09PSAnYm9vbGVhbicgPyBlbmFibGVkIDogIXNvdW5kRW5hYmxlZDtcbiAgICBzZXRTb3VuZEVuYWJsZWQobmV4dCk7XG4gICAgdHJ5IHsgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgna3J4X3NvdW5kX2VuYWJsZWQnLCBKU09OLnN0cmluZ2lmeShuZXh0KSk7IH0gY2F0Y2ggKGUpIHt9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlRGFya01vZGUgPSAoKSA9PiB7XG4gICAgc2V0RGFya01vZGUoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5ld01vZGUgPSAhcHJldjtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsIG5ld01vZGUgPyAnZGFyaycgOiAnbGlnaHQnKTtcbiAgICAgIHJldHVybiBuZXdNb2RlO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEFzayBmb3IgTm90aWZpY2F0aW9uIHBlcm1pc3Npb24gb25jZSBvbiBjbGllbnQgKG9wdGlvbmFsKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAnTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cpIHtcbiAgICAgIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgIHRyeSB7IE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpOyB9IGNhdGNoIChlKSB7IC8qIGlnbm9yZSAqLyB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8g0JfQsNCz0YDRg9C30LrQsCDRh9Cw0YLQvtCyINGH0LXRgNC10LcgUkVTVCBBUElcbiAgY29uc3QgbG9hZENoYXRzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlcikgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjUwMDEvYXBpL2NoYXRzP3VzZXJJZD0ke3VzZXIuaWR9YCk7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgY2hhdHNEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBzZXRDaGF0cyhjaGF0c0RhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIExvYWRlZCBjaGF0cyB2aWEgUkVTVDonLCBjaGF0c0RhdGEubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGxvYWRpbmcgY2hhdHM6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvLyDQl9Cw0LPRgNGD0LfQutCwINGB0L7QvtCx0YnQtdC90LjQuVxuICBjb25zdCBsb2FkTWVzc2FnZXMgPSBhc3luYyAoY2hhdElkOiBudW1iZXIpID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo1MDAxL2FwaS9tZXNzYWdlcz9jaGF0SWQ9JHtjaGF0SWR9JnVzZXJJZD0ke3VzZXIuaWR9YCk7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXNEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAvLyBGb3IgZWFjaCBtZXNzYWdlIGZldGNoIHJlYWN0aW9ucyAoc21hbGwgb3B0aW1pemF0aW9uOiBwYXJhbGxlbCByZXF1ZXN0cylcbiAgICAgICAgY29uc3QgbWVzc2FnZXNXaXRoUmVhY3Rpb25zID0gYXdhaXQgUHJvbWlzZS5hbGwobWVzc2FnZXNEYXRhLm1hcChhc3luYyAobTogYW55KSA9PiB7XG4gICAgICAgICAgLy8gbm9ybWFsaXplIHNlcnZlciBzaGFwZSBmaXJzdFxuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVNZXNzYWdlKG0pO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMS9hcGkvbWVzc2FnZXMvJHttLmlkfS9yZWFjdGlvbnNgKTtcbiAgICAgICAgICAgIGlmIChyLm9rKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYWN0aW9ucyA9IGF3YWl0IHIuanNvbigpO1xuICAgICAgICAgICAgICByZXR1cm4geyAuLi5ub3JtYWxpemVkLCByZWFjdGlvbnMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4geyAuLi5ub3JtYWxpemVkLCByZWFjdGlvbnM6IFtdIH07XG4gICAgICAgIH0pKTtcblxuICAgICAgICBzZXRNZXNzYWdlcyhtZXNzYWdlc1dpdGhSZWFjdGlvbnMpO1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIExvYWRlZCBtZXNzYWdlczonLCBtZXNzYWdlc0RhdGEubGVuZ3RoKTtcbiAgICAgICAgXG4gICAgICAgIC8vINCi0LDQutC20LUg0LfQsNC/0YDQsNGI0LjQstCw0LXQvCDRh9C10YDQtdC3IHNvY2tldCDQtNC70Y8gcmVhbC10aW1lXG4gICAgICAgIGlmIChzb2NrZXQpIHtcbiAgICAgICAgICBzb2NrZXQuZW1pdCgnZ2V0X21lc3NhZ2VzJywgeyBjaGF0SWQsIHVzZXJJZDogdXNlci5pZCB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgbG9hZGluZyBtZXNzYWdlczonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZU11dGUgPSAoY2hhdElkOiBudW1iZXIpID0+IHtcbiAgICBzZXRDaGF0cyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBwcmV2Lm1hcChjID0+IGMuaWQgPT09IGNoYXRJZCA/IHsgLi4uYywgbXV0ZWQ6ICFjLm11dGVkIH0gOiBjKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG11dGVkSWRzID0gdXBkYXRlZC5maWx0ZXIoYyA9PiBjLm11dGVkKS5tYXAoYyA9PiBjLmlkKTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgna3J4X211dGVkX2NoYXRzJywgSlNPTi5zdHJpbmdpZnkobXV0ZWRJZHMpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaWdub3JlXG4gICAgICB9XG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBBcHBseSB0aGVtZSBvbiBpbml0aWFsaXphdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyaycsIGRhcmtNb2RlKTtcbiAgfSwgW2RhcmtNb2RlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8QXBwQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBcbiAgICAgIHVzZXIsIFxuICAgICAgc2V0VXNlciwgXG4gICAgICBzb2NrZXQsIFxuICAgICAgZGFya01vZGUsIFxuICAgICAgdG9nZ2xlRGFya01vZGUsXG4gICAgICBjaGF0cyxcbiAgICAgIHNldENoYXRzLFxuICAgICAgY3VycmVudENoYXQsXG4gICAgICBzZXRDdXJyZW50Q2hhdCxcbiAgICAgIG1lc3NhZ2VzLFxuICAgICAgc2V0TWVzc2FnZXMsXG4gICAgICB0b2dnbGVNdXRlLFxuICAgICAgbm90aWZ5RW5hYmxlZCxcbiAgICAgIHRvZ2dsZU5vdGlmeSxcbiAgICAgIHNvdW5kRW5hYmxlZCxcbiAgICAgIHRvZ2dsZVNvdW5kLFxuICAgICAgdHlwaW5nVXNlcnMsXG4gICAgICBsb2FkQ2hhdHMsXG4gICAgICBsb2FkTWVzc2FnZXMsXG4gICAgICBzZW5kTWVzc2FnZSxcbiAgICAgIGNoZWNrQmxvY2tTdGF0dXMsXG4gICAgICBibG9ja2VkVXNlcnMsXG4gICAgICByZWZyZXNoQmxvY2tlZFVzZXJzXG4gICAgfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9BcHBDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUFwcCA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUFwcCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEFwcFByb3ZpZGVyJyk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59OyJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJpbyIsIkFwcENvbnRleHQiLCJ1bmRlZmluZWQiLCJBcHBQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsIl9zZXRVc2VyIiwiYmxvY2tlZFVzZXJzIiwic2V0QmxvY2tlZFVzZXJzIiwiU2V0IiwicmVmcmVzaEJsb2NrZWRVc2VycyIsInJlc3BvbnNlIiwiZmV0Y2giLCJpZCIsIm9rIiwiRXJyb3IiLCJkYXRhIiwianNvbiIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImNoZWNrQmxvY2tTdGF0dXMiLCJ1c2VySWQiLCJpc0Jsb2NrZWQiLCJzZXRVc2VyIiwidSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwicmVtb3ZlSXRlbSIsImUiLCJ3YXJuIiwicmF3IiwiZ2V0SXRlbSIsInBhcnNlZCIsInBhcnNlIiwic29ja2V0Iiwic2V0U29ja2V0IiwiZGFya01vZGUiLCJzZXREYXJrTW9kZSIsImNoYXRzIiwic2V0Q2hhdHMiLCJjdXJyZW50Q2hhdCIsInNldEN1cnJlbnRDaGF0IiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsInR5cGluZ1VzZXJzIiwic2V0VHlwaW5nVXNlcnMiLCJub3RpZnlFbmFibGVkIiwic2V0Tm90aWZ5RW5hYmxlZCIsInNvdW5kRW5hYmxlZCIsInNldFNvdW5kRW5hYmxlZCIsInNlbmRNZXNzYWdlIiwiY29udGVudCIsImNoYXRJZCIsIm1lc3NhZ2VUeXBlIiwiaXNDb21tZW50IiwibWVzc2FnZURhdGEiLCJzZW5kZXJJZCIsInRyaW0iLCJsb2ciLCJlbWl0Iiwib3B0aW1pc3RpY01lc3NhZ2UiLCJEYXRlIiwibm93IiwiaXNSZWFkIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJ1c2VybmFtZSIsImRpc3BsYXlOYW1lIiwiYXZhdGFyVXJsIiwicHJldiIsIm5vcm1hbGl6ZU1lc3NhZ2UiLCJtIiwiTnVtYmVyIiwiY2hhdF9pZCIsInNlbmRlcl9pZCIsInN0YXJ0c1dpdGgiLCJtZXNzYWdlX3R5cGUiLCJpc19yZWFkIiwiY3JlYXRlZF9hdCIsInVzZXJOYW1lIiwiZGlzcGxheV9uYW1lIiwiYSIsImF2YXRhcl91cmwiLCJyZWFjdGlvbnMiLCJuZXdTb2NrZXQiLCJ0cmFuc3BvcnRzIiwicmVjb25uZWN0aW9uIiwicmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJJbmZpbml0eSIsInJlY29ubmVjdGlvbkRlbGF5IiwicmVjb25uZWN0aW9uRGVsYXlNYXgiLCJhdXRvQ29ubmVjdCIsIm9uIiwicmF3TXNnIiwibWVzc2FnZSIsImZpbHRlcmVkIiwiZmlsdGVyIiwidFByZXYiLCJnZXRUaW1lIiwidE1zZyIsIk1hdGgiLCJhYnMiLCJtYXAiLCJjIiwidW5yZWFkQ291bnQiLCJsYXN0TWVzc2FnZSIsImxhc3RNZXNzYWdlVGltZSIsImxhc3RNZXNzYWdlU2VuZGVyIiwiY2hhdCIsImZpbmQiLCJjaCIsImlzTXV0ZWQiLCJtdXRlZCIsIndpbmRvdyIsIk5vdGlmaWNhdGlvbiIsInBlcm1pc3Npb24iLCJ0aXRsZSIsInR5cGUiLCJvdGhlclVzZXIiLCJuYW1lIiwiYm9keSIsInNsaWNlIiwiaWNvbiIsInBsYXlOb3RpZmljYXRpb25Tb3VuZCIsIm1lc3NhZ2VJZCIsImV4aXN0aW5nIiwiZW1vamkiLCJjcmVhdGVkQXQiLCJyIiwiYXJyIiwiYWRkIiwiQXJyYXkiLCJmcm9tIiwibGlzdCIsIm5ld0dyb3VwIiwiZXhpc3RzIiwibmV3Q2hhbm5lbCIsImNoYXRzRGF0YSIsImxlbmd0aCIsIm11dGVkSWRzIiwibWFwcGVkIiwiaW5jbHVkZXMiLCJub3JtYWxpemVkIiwibG9hZENoYXRzIiwiZGlzY29ubmVjdCIsIkF1ZGlvQ3R4IiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwiY3R4IiwibyIsImNyZWF0ZU9zY2lsbGF0b3IiLCJnIiwiY3JlYXRlR2FpbiIsImZyZXF1ZW5jeSIsInZhbHVlIiwiZ2FpbiIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsInN0YXJ0Iiwic2V0VGltZW91dCIsInN0b3AiLCJjbG9zZSIsInRvZ2dsZU5vdGlmeSIsImVuYWJsZWQiLCJuZXh0IiwicmVxdWVzdFBlcm1pc3Npb24iLCJ0b2dnbGVTb3VuZCIsInRvZ2dsZURhcmtNb2RlIiwibmV3TW9kZSIsImxvYWRNZXNzYWdlcyIsIm1lc3NhZ2VzRGF0YSIsIm1lc3NhZ2VzV2l0aFJlYWN0aW9ucyIsIlByb21pc2UiLCJhbGwiLCJ0b2dnbGVNdXRlIiwidXBkYXRlZCIsImRvY3VtZW50IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiUHJvdmlkZXIiLCJ1c2VBcHAiLCJjb250ZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/contexts/AppContext.tsx\n");

/***/ }),

/***/ "./src/contexts/LanguageContext.tsx":
/*!******************************************!*\
  !*** ./src/contexts/LanguageContext.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LanguageProvider: () => (/* binding */ LanguageProvider),\n/* harmony export */   useLanguage: () => (/* binding */ useLanguage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst translations = {\n    newChat: {\n        en: \"New Chat\",\n        ru: \"ÐÐ¾Ð²Ñ‹Ð¹ Ñ‡Ð°Ñ‚\"\n    },\n    newGroup: {\n        en: \"New Group\",\n        ru: \"ÐÐ¾Ð²Ð°Ñ Ð³Ñ€ÑƒÐ¿Ð¿Ð°\"\n    },\n    newChannel: {\n        en: \"New Channel\",\n        ru: \"ÐÐ¾Ð²Ñ‹Ð¹ ÐºÐ°Ð½Ð°Ð»\"\n    },\n    settings: {\n        en: \"Settings\",\n        ru: \"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸\"\n    },\n    theme: {\n        en: \"Theme\",\n        ru: \"Ð¢ÐµÐ¼Ð°\"\n    },\n    language: {\n        en: \"Language\",\n        ru: \"Ð¯Ð·Ñ‹Ðº\"\n    },\n    english: {\n        en: \"English\",\n        ru: \"ÐÐ½Ð³Ð»Ð¸Ð¹ÑÐºÐ¸Ð¹\"\n    },\n    russian: {\n        en: \"Russian\",\n        ru: \"Ð ÑƒÑÑÐºÐ¸Ð¹\"\n    },\n    light: {\n        en: \"Light\",\n        ru: \"Ð¡Ð²ÐµÑ‚Ð»Ð°Ñ\"\n    },\n    dark: {\n        en: \"Dark\",\n        ru: \"Ð¢Ñ‘Ð¼Ð½Ð°Ñ\"\n    },\n    search: {\n        en: \"Search\",\n        ru: \"ÐŸÐ¾Ð¸ÑÐº\"\n    },\n    online: {\n        en: \"online\",\n        ru: \"Ð² ÑÐµÑ‚Ð¸\"\n    },\n    offline: {\n        en: \"offline\",\n        ru: \"Ð½Ðµ Ð² ÑÐµÑ‚Ð¸\"\n    },\n    lastSeen: {\n        en: \"last seen\",\n        ru: \"Ð±Ñ‹Ð»(Ð°)\"\n    },\n    typing: {\n        en: \"typing...\",\n        ru: \"Ð¿ÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚...\"\n    },\n    today: {\n        en: \"Today\",\n        ru: \"Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ\"\n    },\n    yesterday: {\n        en: \"Yesterday\",\n        ru: \"Ð’Ñ‡ÐµÑ€Ð°\"\n    }\n};\nconst LanguageContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst LanguageProvider = ({ children })=>{\n    const [language, setLanguage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"en\");\n    const t = (key)=>{\n        return translations[key]?.[language] || key;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LanguageContext.Provider, {\n        value: {\n            language,\n            setLanguage,\n            t\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/user/Desktop/KRX/KRX 2.0/client/src/contexts/LanguageContext.tsx\",\n        lineNumber: 100,\n        columnNumber: 5\n    }, undefined);\n};\nconst useLanguage = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(LanguageContext);\n    if (!context) {\n        throw new Error(\"useLanguage must be used within a LanguageProvider\");\n    }\n    return context;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29udGV4dHMvTGFuZ3VhZ2VDb250ZXh0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQW1FO0FBV25FLE1BQU1JLGVBQTZCO0lBQ2pDQyxTQUFTO1FBQ1BDLElBQUk7UUFDSkMsSUFBSTtJQUNOO0lBQ0FDLFVBQVU7UUFDUkYsSUFBSTtRQUNKQyxJQUFJO0lBQ047SUFDQUUsWUFBWTtRQUNWSCxJQUFJO1FBQ0pDLElBQUk7SUFDTjtJQUNBRyxVQUFVO1FBQ1JKLElBQUk7UUFDSkMsSUFBSTtJQUNOO0lBQ0FJLE9BQU87UUFDTEwsSUFBSTtRQUNKQyxJQUFJO0lBQ047SUFDQUssVUFBVTtRQUNSTixJQUFJO1FBQ0pDLElBQUk7SUFDTjtJQUNBTSxTQUFTO1FBQ1BQLElBQUk7UUFDSkMsSUFBSTtJQUNOO0lBQ0FPLFNBQVM7UUFDUFIsSUFBSTtRQUNKQyxJQUFJO0lBQ047SUFDQVEsT0FBTztRQUNMVCxJQUFJO1FBQ0pDLElBQUk7SUFDTjtJQUNBUyxNQUFNO1FBQ0pWLElBQUk7UUFDSkMsSUFBSTtJQUNOO0lBQ0FVLFFBQVE7UUFDTlgsSUFBSTtRQUNKQyxJQUFJO0lBQ047SUFDQVcsUUFBUTtRQUNOWixJQUFJO1FBQ0pDLElBQUk7SUFDTjtJQUNBWSxTQUFTO1FBQ1BiLElBQUk7UUFDSkMsSUFBSTtJQUNOO0lBQ0FhLFVBQVU7UUFDUmQsSUFBSTtRQUNKQyxJQUFJO0lBQ047SUFDQWMsUUFBUTtRQUNOZixJQUFJO1FBQ0pDLElBQUk7SUFDTjtJQUNBZSxPQUFPO1FBQ0xoQixJQUFJO1FBQ0pDLElBQUk7SUFDTjtJQUNBZ0IsV0FBVztRQUNUakIsSUFBSTtRQUNKQyxJQUFJO0lBQ047QUFFRjtBQVFBLE1BQU1pQixnQ0FBa0J2QixvREFBYUEsQ0FBa0N3QjtBQUVoRSxNQUFNQyxtQkFBNEQsQ0FBQyxFQUFFQyxRQUFRLEVBQUU7SUFDcEYsTUFBTSxDQUFDZixVQUFVZ0IsWUFBWSxHQUFHekIsK0NBQVFBLENBQVc7SUFFbkQsTUFBTTBCLElBQUksQ0FBQ0M7UUFDVCxPQUFPMUIsWUFBWSxDQUFDMEIsSUFBSSxFQUFFLENBQUNsQixTQUFTLElBQUlrQjtJQUMxQztJQUVBLHFCQUNFLDhEQUFDTixnQkFBZ0JPLFFBQVE7UUFBQ0MsT0FBTztZQUFFcEI7WUFBVWdCO1lBQWFDO1FBQUU7a0JBQ3pERjs7Ozs7O0FBR1AsRUFBRTtBQUVLLE1BQU1NLGNBQWM7SUFDekIsTUFBTUMsVUFBVWhDLGlEQUFVQSxDQUFDc0I7SUFDM0IsSUFBSSxDQUFDVSxTQUFTO1FBQ1osTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3J4LWNsaWVudC8uL3NyYy9jb250ZXh0cy9MYW5ndWFnZUNvbnRleHQudHN4PzQxOGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG50eXBlIExhbmd1YWdlID0gJ2VuJyB8ICdydSc7XG5cbnR5cGUgVHJhbnNsYXRpb25zID0ge1xuICBba2V5OiBzdHJpbmddOiB7XG4gICAgZW46IHN0cmluZztcbiAgICBydTogc3RyaW5nO1xuICB9O1xufTtcblxuY29uc3QgdHJhbnNsYXRpb25zOiBUcmFuc2xhdGlvbnMgPSB7XG4gIG5ld0NoYXQ6IHtcbiAgICBlbjogJ05ldyBDaGF0JyxcbiAgICBydTogJ9Cd0L7QstGL0Lkg0YfQsNGCJ1xuICB9LFxuICBuZXdHcm91cDoge1xuICAgIGVuOiAnTmV3IEdyb3VwJyxcbiAgICBydTogJ9Cd0L7QstCw0Y8g0LPRgNGD0L/Qv9CwJ1xuICB9LFxuICBuZXdDaGFubmVsOiB7XG4gICAgZW46ICdOZXcgQ2hhbm5lbCcsXG4gICAgcnU6ICfQndC+0LLRi9C5INC60LDQvdCw0LsnXG4gIH0sXG4gIHNldHRpbmdzOiB7XG4gICAgZW46ICdTZXR0aW5ncycsXG4gICAgcnU6ICfQndCw0YHRgtGA0L7QudC60LgnXG4gIH0sXG4gIHRoZW1lOiB7XG4gICAgZW46ICdUaGVtZScsXG4gICAgcnU6ICfQotC10LzQsCdcbiAgfSxcbiAgbGFuZ3VhZ2U6IHtcbiAgICBlbjogJ0xhbmd1YWdlJyxcbiAgICBydTogJ9Cv0LfRi9C6J1xuICB9LFxuICBlbmdsaXNoOiB7XG4gICAgZW46ICdFbmdsaXNoJyxcbiAgICBydTogJ9CQ0L3Qs9C70LjQudGB0LrQuNC5J1xuICB9LFxuICBydXNzaWFuOiB7XG4gICAgZW46ICdSdXNzaWFuJyxcbiAgICBydTogJ9Cg0YPRgdGB0LrQuNC5J1xuICB9LFxuICBsaWdodDoge1xuICAgIGVuOiAnTGlnaHQnLFxuICAgIHJ1OiAn0KHQstC10YLQu9Cw0Y8nXG4gIH0sXG4gIGRhcms6IHtcbiAgICBlbjogJ0RhcmsnLFxuICAgIHJ1OiAn0KLRkdC80L3QsNGPJ1xuICB9LFxuICBzZWFyY2g6IHtcbiAgICBlbjogJ1NlYXJjaCcsXG4gICAgcnU6ICfQn9C+0LjRgdC6J1xuICB9LFxuICBvbmxpbmU6IHtcbiAgICBlbjogJ29ubGluZScsXG4gICAgcnU6ICfQsiDRgdC10YLQuCdcbiAgfSxcbiAgb2ZmbGluZToge1xuICAgIGVuOiAnb2ZmbGluZScsXG4gICAgcnU6ICfQvdC1INCyINGB0LXRgtC4J1xuICB9LFxuICBsYXN0U2Vlbjoge1xuICAgIGVuOiAnbGFzdCBzZWVuJyxcbiAgICBydTogJ9Cx0YvQuyjQsCknXG4gIH0sXG4gIHR5cGluZzoge1xuICAgIGVuOiAndHlwaW5nLi4uJyxcbiAgICBydTogJ9C/0LXRh9Cw0YLQsNC10YIuLi4nXG4gIH0sXG4gIHRvZGF5OiB7XG4gICAgZW46ICdUb2RheScsXG4gICAgcnU6ICfQodC10LPQvtC00L3RjydcbiAgfSxcbiAgeWVzdGVyZGF5OiB7XG4gICAgZW46ICdZZXN0ZXJkYXknLFxuICAgIHJ1OiAn0JLRh9C10YDQsCdcbiAgfSxcbiAgLy8gQWRkIG1vcmUgdHJhbnNsYXRpb25zIGFzIG5lZWRlZFxufTtcblxuaW50ZXJmYWNlIExhbmd1YWdlQ29udGV4dFR5cGUge1xuICBsYW5ndWFnZTogTGFuZ3VhZ2U7XG4gIHNldExhbmd1YWdlOiAobGFuZzogTGFuZ3VhZ2UpID0+IHZvaWQ7XG4gIHQ6IChrZXk6IHN0cmluZykgPT4gc3RyaW5nO1xufVxuXG5jb25zdCBMYW5ndWFnZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0PExhbmd1YWdlQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBjb25zdCBMYW5ndWFnZVByb3ZpZGVyOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IFtsYW5ndWFnZSwgc2V0TGFuZ3VhZ2VdID0gdXNlU3RhdGU8TGFuZ3VhZ2U+KCdlbicpO1xuXG4gIGNvbnN0IHQgPSAoa2V5OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiB0cmFuc2xhdGlvbnNba2V5XT8uW2xhbmd1YWdlXSB8fCBrZXk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8TGFuZ3VhZ2VDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGxhbmd1YWdlLCBzZXRMYW5ndWFnZSwgdCB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0xhbmd1YWdlQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VMYW5ndWFnZSA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoTGFuZ3VhZ2VDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VMYW5ndWFnZSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgTGFuZ3VhZ2VQcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufTsiXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidHJhbnNsYXRpb25zIiwibmV3Q2hhdCIsImVuIiwicnUiLCJuZXdHcm91cCIsIm5ld0NoYW5uZWwiLCJzZXR0aW5ncyIsInRoZW1lIiwibGFuZ3VhZ2UiLCJlbmdsaXNoIiwicnVzc2lhbiIsImxpZ2h0IiwiZGFyayIsInNlYXJjaCIsIm9ubGluZSIsIm9mZmxpbmUiLCJsYXN0U2VlbiIsInR5cGluZyIsInRvZGF5IiwieWVzdGVyZGF5IiwiTGFuZ3VhZ2VDb250ZXh0IiwidW5kZWZpbmVkIiwiTGFuZ3VhZ2VQcm92aWRlciIsImNoaWxkcmVuIiwic2V0TGFuZ3VhZ2UiLCJ0Iiwia2V5IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInVzZUxhbmd1YWdlIiwiY29udGV4dCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/contexts/LanguageContext.tsx\n");

/***/ }),

/***/ "./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "socket.io-client":
/*!***********************************!*\
  !*** external "socket.io-client" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = import("socket.io-client");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/_app.tsx"));
module.exports = __webpack_exports__;

})();